<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>F√ºr dich üå∏</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  overflow: hidden;
  color: #fff;
  height: 100vh;
}

/* Particle background */
.particles {
  position: fixed;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.particle {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  opacity: 0;
  animation: particleFloat linear infinite;
}

@keyframes particleFloat {
  0% {
    transform: translateY(100vh) scale(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) scale(1);
    opacity: 0;
  }
}

/* Sakura petals - realistic */
.sakura {
  position: fixed;
  pointer-events: none;
  opacity: 0.85;
  z-index: 2;
  animation: sakuraFall linear forwards;
  filter: drop-shadow(0 1px 3px rgba(0,0,0,0.15));
}

.sakura svg {
  width: 100%;
  height: 100%;
}

@keyframes sakuraFall {
  0% {
    transform: translateY(0) translateX(0) rotate(0deg);
  }
  25% {
    transform: translateY(25vh) translateX(30px) rotate(90deg);
  }
  50% {
    transform: translateY(50vh) translateX(-20px) rotate(180deg);
  }
  75% {
    transform: translateY(75vh) translateX(40px) rotate(270deg);
  }
  100% {
    transform: translateY(110vh) translateX(-10px) rotate(360deg);
    opacity: 0;
  }
}

/* Screen transitions */
.screen {
  position: fixed;
  width: 100%;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  padding: 40px;
  z-index: 10;
  opacity: 0;
  transform: scale(0.9);
  pointer-events: none;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.screen.active {
  opacity: 1;
  transform: scale(1);
  pointer-events: auto;
}

.screen.exit {
  opacity: 0;
  transform: scale(1.1);
}

/* Typography */
h1 {
  font-size: clamp(32px, 6vw, 56px);
  font-weight: 700;
  margin-bottom: 20px;
  text-shadow: 0 2px 20px rgba(0,0,0,0.3);
  animation: fadeInUp 1s ease;
}

p {
  font-size: clamp(18px, 3vw, 24px);
  max-width: 700px;
  line-height: 1.6;
  margin: 15px 0;
  text-shadow: 0 1px 10px rgba(0,0,0,0.2);
  animation: fadeInUp 1s ease 0.2s both;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Buttons */
button {
  padding: 18px 48px;
  font-size: 20px;
  font-weight: 600;
  border: none;
  border-radius: 50px;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  cursor: pointer;
  margin: 15px;
  box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  animation: fadeInUp 1s ease 0.4s both;
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

button:hover::before {
  width: 300px;
  height: 300px;
}

button:hover {
  transform: translateY(-3px);
  box-shadow: 0 15px 40px rgba(245, 87, 108, 0.5);
}

button:active {
  transform: translateY(-1px);
}

/* Heart pulse effect */
.heart-pulse {
  display: inline-block;
  animation: heartPulse 1.5s ease infinite;
}

@keyframes heartPulse {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(1.2);
  }
  20%, 40% {
    transform: scale(1);
  }
}

/* Question screen special styling */
#s7 .button-container {
  display: flex;
  gap: 20px;
  margin-top: 30px;
}

#noBtn {
  background: linear-gradient(135deg, #868f96 0%, #596164 100%);
  box-shadow: 0 10px 30px rgba(89, 97, 100, 0.4);
}

/* Fireworks */
.firework {
  position: fixed;
  pointer-events: none;
  z-index: 100;
}

.firework-particle {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  animation: fireworkExplosion 1s ease-out forwards;
}

@keyframes fireworkExplosion {
  0% {
    transform: translate(0, 0);
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* Click hearts */
.click-heart {
  position: fixed;
  font-size: 32px;
  pointer-events: none;
  z-index: 1000;
  animation: heartRise 2s ease-out forwards;
}

@keyframes heartRise {
  0% {
    transform: translateY(0) scale(0);
    opacity: 1;
  }
  50% {
    transform: translateY(-50px) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-150px) scale(0.5);
    opacity: 0;
  }
}

/* Final screen special */
#s8 {
  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 100%);
}

/* Loading animation */
.loading {
  display: inline-block;
  animation: dots 1.5s steps(4, end) infinite;
}

@keyframes dots {
  0%, 20% { content: '.'; }
  40% { content: '..'; }
  60% { content: '...'; }
  80%, 100% { content: ''; }
}

/* Sparkle effect */
.sparkle {
  position: fixed;
  font-size: 16px;
  pointer-events: none;
  z-index: 50;
  animation: sparkleAnim 1.5s ease-out forwards;
}

@keyframes sparkleAnim {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: scale(1) rotate(180deg);
    opacity: 1;
  }
  100% {
    transform: scale(0) rotate(360deg);
    opacity: 0;
  }
}

/* Name styling */
.name-highlight {
  background: linear-gradient(135deg, #ffa8c5 0%, #fff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 800;
}

/* Responsive */
@media (max-width: 768px) {
  button {
    padding: 15px 35px;
    font-size: 18px;
  }
  
  #s7 .button-container {
    flex-direction: column;
  }
}
</style>
</head>

<body>

<!-- Particle background -->
<div class="particles" id="particles"></div>

<!-- Audio -->
<audio id="music">
  <source src="thesmiths.mp3" type="audio/mpeg">
</audio>

<!-- Screen 1: Welcome -->
<div class="screen active" id="s1">
  <h1>Hall√∂√∂chen <span class="name-highlight" id="name">S√º√üli</span> üå∏</h1>
  <p>Ich habe etwas Besonderes f√ºr dich vorbereitet...</p>
  <p style="font-size: 16px; opacity: 0.8;">Mit Liebe gemacht üíù</p>
  
  <!-- Music toggle button -->
  <button onclick="toggleMusic()" id="musicBtn" style="margin-top: 20px; background: linear-gradient(135deg, #868f96 0%, #596164 100%); font-size: 18px; padding: 15px 40px;">
    üéµ Musik abspielen
  </button>
  
  <button onclick="startExperience()">Anfangen ‚ú®</button>
</div>

<!-- Screen 2 -->
<div class="screen" id="s2">
  <p>Wei√üt du...</p>
  <p>Ich h√§tte dir einfach Schokolade oder eine s√º√üe Tasse schenken k√∂nnen.</p>
  <p>Aber das w√§re nicht genug gewesen.</p>
  <button onclick="nextScreen(2)">Erz√§hl mir mehr</button>
</div>

<!-- Screen 3 -->
<div class="screen" id="s3">
  <h1>Du verdienst etwas Besonderes üí´</h1>
  <p>Also habe ich versucht zu zaubern.</p>
  <p style="font-size: 18px; opacity: 0.9;">Nur f√ºr dich.</p>
  <button onclick="nextScreen(3)">Das ist s√º√ü üòä</button>
</div>

<!-- Screen 4 -->
<div class="screen" id="s4">
  <p>To show you that...</p>
  <p>..You live in my heart rentfree <span class="heart-pulse">üíï</span></p>
  <button onclick="nextScreen(4)">Das ist sch√∂n</button>
</div>

<!-- Screen 5 -->
<div class="screen" id="s5">
  <p style="font-size: 22px;">Es gibt so viel, was ich dir sagen m√∂chte...</p>
  <h1>Aber am wichtigsten ist:</h1>
  <h1 style="font-size: clamp(40px, 8vw, 72px);">Du bist einzigartig ‚ú®</h1>
  <button onclick="nextScreen(5)">Weiter</button>
</div>

<!-- Screen 6: Valentine's -->
<div class="screen" id="s6">
  <h1>Happy Valentine's Day <span class="heart-pulse">üåº</span></h1>
  <p>Ich hoffe, du l√§chelst gerade genau so wie ich.</p>
  <p style="font-size: 18px; margin-top: 30px;">Aber warte... da ist noch etwas...</p>
  <button onclick="nextScreen(6)">Was denn? üëÄ</button>
</div>

<!-- Screen 7: The Question -->
<div class="screen" id="s7">
  <h1 style="font-size: clamp(36px, 7vw, 64px);">Eine Frage... <span class="heart-pulse">‚ù§Ô∏è</span></h1>
  <p style="font-size: 26px; margin-top: 20px;">Wanna be my Valentine?</p>
  <div class="button-container">
    <button onclick="yesClicked()" style="font-size: 24px; padding: 20px 50px;">Ja! üíñ</button>
    <button id="noBtn" onclick="noClicked(this)" style="font-size: 18px;">Nein</button>
  </div>
</div>

<!-- Screen 8: Final -->
<div class="screen" id="s8">
  <h1 style="font-size: clamp(40px, 8vw, 80px);">Ich wusste es! üéâ</h1>
  <p style="font-size: 28px;">Dein L√§cheln macht mich gl√ºcklich <span class="heart-pulse">üíù</span></p>
  <p style="font-size: 20px; margin-top: 30px; opacity: 0.9;">Klicke √ºberall f√ºr mehr Liebe ‚ù§Ô∏è</p>
  
  <!-- Restart Button -->
  <button onclick="restartExperience()" style="margin-top: 40px; font-size: 18px; padding: 16px 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    üîÑ Noch einmal erleben
  </button>
  
  <p style="font-size: 16px; margin-top: 30px; opacity: 0.7;">Gemacht mit Liebe, nur f√ºr dich üå∏</p>
</div>

<script>
let currentScreen = 1;
let sakuraInterval;
let particleInterval;
let fireworkInterval;
let musicEnabled = false;

// Toggle music on/off
function toggleMusic() {
  const music = document.getElementById('music');
  const musicBtn = document.getElementById('musicBtn');
  
  if (!musicEnabled) {
    // Enable music
    music.currentTime = 58;
    music.play().then(() => {
      musicEnabled = true;
      musicBtn.innerHTML = 'üîá Musik ausschalten';
      musicBtn.style.background = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
    }).catch(() => {
      alert('Musik konnte nicht abgespielt werden. Bitte erlaube Audio im Browser.');
    });
  } else {
    // Disable music
    music.pause();
    music.currentTime = 58;
    musicEnabled = false;
    musicBtn.innerHTML = 'üéµ Musik abspielen';
    musicBtn.style.background = 'linear-gradient(135deg, #868f96 0%, #596164 100%)';
  }
}

// Initialize particles
function initParticles() {
  const container = document.getElementById('particles');
  particleInterval = setInterval(() => {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + 'vw';
    particle.style.width = (Math.random() * 4 + 2) + 'px';
    particle.style.height = particle.style.width;
    particle.style.background = `rgba(255, 255, 255, ${Math.random() * 0.5 + 0.3})`;
    particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
    particle.style.animationDelay = Math.random() * 2 + 's';
    container.appendChild(particle);
    
    setTimeout(() => particle.remove(), 20000);
  }, 300);
}

// Start experience
function startExperience() {
  const music = document.getElementById('music');
  
  // Only start music if user enabled it
  if (musicEnabled) {
    // Music already playing from toggle button
    // Add loop functionality
    music.addEventListener('ended', function() {
      music.currentTime = 58;
      music.play();
    });
    
    music.addEventListener('timeupdate', function() {
      if (music.currentTime < 58 && music.currentTime > 1) {
        music.currentTime = 58;
      }
    });
  }
  
  transitionScreen(1, 2);
  startSakura();
  initParticles();
  createSparkles();
}

// Restart experience
function restartExperience() {
  // Reload the page
  location.reload();
}

// Screen transition
function transitionScreen(from, to) {
  const fromEl = document.getElementById('s' + from);
  const toEl = document.getElementById('s' + to);
  
  fromEl.classList.add('exit');
  setTimeout(() => {
    fromEl.classList.remove('active', 'exit');
    toEl.classList.add('active');
    currentScreen = to;
  }, 400);
}

// Next screen
function nextScreen(current) {
  transitionScreen(current, current + 1);
}

// Sakura falling - realistic petals
function startSakura() {
  const petalColors = [
    { light: '#ffb3d9', medium: '#ff8cc6', dark: '#ff6bb3' },
    { light: '#ffc9e3', medium: '#ffaad5', dark: '#ff8bc4' },
    { light: '#ffe0f0', medium: '#ffcce5', dark: '#ffb3da' },
    { light: '#fff0f8', medium: '#ffe4f1', dark: '#ffd1e8' }
  ];
  
  sakuraInterval = setInterval(() => {
    const sakura = document.createElement('div');
    sakura.className = 'sakura';
    
    const colors = petalColors[Math.floor(Math.random() * petalColors.length)];
    const size = Math.random() * 15 + 20; // 20-35px
    
    // Create realistic sakura petal SVG
    sakura.innerHTML = `
      <svg width="${size}" height="${size}" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <radialGradient id="grad${Date.now()}" cx="50%" cy="50%" r="50%">
            <stop offset="0%" style="stop-color:${colors.light};stop-opacity:1" />
            <stop offset="70%" style="stop-color:${colors.medium};stop-opacity:1" />
            <stop offset="100%" style="stop-color:${colors.dark};stop-opacity:0.9" />
          </radialGradient>
        </defs>
        
        <!-- Petal 1 -->
        <ellipse cx="25" cy="15" rx="8" ry="12" fill="url(#grad${Date.now()})" transform="rotate(0 25 25)"/>
        <!-- Petal 2 -->
        <ellipse cx="25" cy="15" rx="8" ry="12" fill="url(#grad${Date.now()})" transform="rotate(72 25 25)"/>
        <!-- Petal 3 -->
        <ellipse cx="25" cy="15" rx="8" ry="12" fill="url(#grad${Date.now()})" transform="rotate(144 25 25)"/>
        <!-- Petal 4 -->
        <ellipse cx="25" cy="15" rx="8" ry="12" fill="url(#grad${Date.now()})" transform="rotate(216 25 25)"/>
        <!-- Petal 5 -->
        <ellipse cx="25" cy="15" rx="8" ry="12" fill="url(#grad${Date.now()})" transform="rotate(288 25 25)"/>
        
        <!-- Center -->
        <circle cx="25" cy="25" r="3" fill="#ffd700" opacity="0.8"/>
        <circle cx="25" cy="25" r="2" fill="#ffed4e" opacity="0.9"/>
      </svg>
    `;
    
    sakura.style.left = Math.random() * 100 + 'vw';
    sakura.style.width = size + 'px';
    sakura.style.height = size + 'px';
    sakura.style.animationDuration = (Math.random() * 8 + 12) + 's'; // 12-20s for slower, more realistic fall
    sakura.style.animationDelay = Math.random() * 2 + 's';
    document.body.appendChild(sakura);
    
    setTimeout(() => sakura.remove(), 22000);
  }, 350);
}

// Sparkles
function createSparkles() {
  setInterval(() => {
    if (currentScreen >= 2) {
      const sparkle = document.createElement('div');
      sparkle.className = 'sparkle';
      sparkle.innerHTML = '‚ú®';
      sparkle.style.left = Math.random() * 100 + 'vw';
      sparkle.style.top = Math.random() * 100 + 'vh';
      document.body.appendChild(sparkle);
      
      setTimeout(() => sparkle.remove(), 1500);
    }
  }, 800);
}

// Yes clicked
function yesClicked() {
  transitionScreen(7, 8);
  startFireworks();
  
  // Confetti burst
  for (let i = 0; i < 50; i++) {
    setTimeout(() => {
      createConfetti();
    }, i * 30);
  }
}

// No button moves
let noClickCount = 0;
function noClicked(btn) {
  noClickCount++;
  
  if (noClickCount < 5) {
    btn.style.position = 'fixed';
    btn.style.left = Math.random() * (window.innerWidth - 150) + 'px';
    btn.style.top = Math.random() * (window.innerHeight - 100) + 'px';
    btn.style.transition = 'all 0.3s ease';
  } else {
    btn.innerHTML = 'Okay, Ja! üòä';
    btn.onclick = yesClicked;
    btn.style.background = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
  }
}

// Fireworks
function startFireworks() {
  const colors = ['#ff0844', '#ffb199', '#ffd23f', '#b8e6ff', '#d5aaff'];
  
  fireworkInterval = setInterval(() => {
    const x = Math.random() * window.innerWidth;
    const y = Math.random() * window.innerHeight * 0.7;
    
    const firework = document.createElement('div');
    firework.className = 'firework';
    firework.style.left = x + 'px';
    firework.style.top = y + 'px';
    document.body.appendChild(firework);
    
    // Create particles
    for (let i = 0; i < 30; i++) {
      const particle = document.createElement('div');
      particle.className = 'firework-particle';
      particle.style.background = colors[Math.floor(Math.random() * colors.length)];
      
      const angle = (Math.PI * 2 * i) / 30;
      const velocity = Math.random() * 100 + 50;
      const tx = Math.cos(angle) * velocity;
      const ty = Math.sin(angle) * velocity;
      
      particle.style.setProperty('--tx', tx + 'px');
      particle.style.setProperty('--ty', ty + 'px');
      particle.style.transform = `translate(var(--tx), var(--ty))`;
      
      firework.appendChild(particle);
    }
    
    setTimeout(() => firework.remove(), 1000);
  }, 800);
}

// Confetti
function createConfetti() {
  const confetti = document.createElement('div');
  confetti.innerHTML = ['üéâ', 'üéä', 'üíñ', 'üíù', '‚ú®', '‚≠ê'][Math.floor(Math.random() * 6)];
  confetti.style.position = 'fixed';
  confetti.style.left = Math.random() * 100 + 'vw';
  confetti.style.top = '-50px';
  confetti.style.fontSize = (Math.random() * 20 + 20) + 'px';
  confetti.style.pointerEvents = 'none';
  confetti.style.zIndex = '1000';
  confetti.style.animation = 'sakuraFall ' + (Math.random() * 3 + 3) + 's linear forwards';
  document.body.appendChild(confetti);
  
  setTimeout(() => confetti.remove(), 6000);
}

// Click hearts on final screen
document.addEventListener('click', (e) => {
  if (currentScreen === 8) {
    const heart = document.createElement('div');
    heart.className = 'click-heart';
    heart.innerHTML = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù'][Math.floor(Math.random() * 5)];
    heart.style.left = e.clientX + 'px';
    heart.style.top = e.clientY + 'px';
    document.body.appendChild(heart);
    
    setTimeout(() => heart.remove(), 2000);
    
    // Extra sparkle
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    sparkle.innerHTML = '‚ú®';
    sparkle.style.left = e.clientX + 'px';
    sparkle.style.top = e.clientY + 'px';
    document.body.appendChild(sparkle);
    
    setTimeout(() => sparkle.remove(), 1500);
  }
});

// Cleanup on page unload
window.addEventListener('beforeunload', () => {
  clearInterval(sakuraInterval);
  clearInterval(particleInterval);
  clearInterval(fireworkInterval);
});
</script>

</body>
</html>
